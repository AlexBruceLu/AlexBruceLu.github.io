<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>AlexBruce</title>
  
  <subtitle>æ¶ˆé£é˜</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://alexbrucelu.github.io/"/>
  <updated>2019-12-09T11:00:06.449Z</updated>
  <id>https://alexbrucelu.github.io/</id>
  
  <author>
    <name>AlexBruce Lu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git æ–°å»ºä»“åº“ï¼Œæ·»åŠ è¿œç¨‹åˆ†ä¹‹åˆ°æœ¬åœ°</title>
    <link href="https://alexbrucelu.github.io/2019/12/09/go_mod%E5%9F%BA%E7%A1%80%E7%AF%87/"/>
    <id>https://alexbrucelu.github.io/2019/12/09/go_mod%E5%9F%BA%E7%A1%80%E7%AF%87/</id>
    <published>2019-12-09T10:56:13.000Z</published>
    <updated>2019-12-09T11:00:06.449Z</updated>
    
    <content type="html"><![CDATA[<p>@[TOC]</p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><h3 id="å¼€å¯go-mod"><a href="#å¼€å¯go-mod" class="headerlink" title="å¼€å¯go mod"></a>å¼€å¯go mod</h3><ol><li>æŠŠ golang å‡çº§åˆ° 1.11ï¼ˆç°åœ¨1.13 å·²ç»å‘å¸ƒäº†ï¼Œå»ºè®®ä½¿ç”¨1.13ï¼‰</li><li>è®¾ç½® <code>GO111MODULE</code></li></ol><p>GO111MODULE</p><p><code>GO111MODULE</code> æœ‰ä¸‰ä¸ªå€¼ï¼š<code>off</code>, <code>on</code>å’Œ<code>autoï¼ˆé»˜è®¤å€¼ï¼‰</code>ã€‚</p><ul><li><code>GO111MODULE=off</code>ï¼Œgoå‘½ä»¤è¡Œå°†ä¸ä¼šæ”¯æŒmoduleåŠŸèƒ½ï¼Œå¯»æ‰¾ä¾èµ–åŒ…çš„æ–¹å¼å°†ä¼šæ²¿ç”¨æ—§ç‰ˆæœ¬é‚£ç§é€šè¿‡vendorç›®å½•æˆ–è€…GOPATHæ¨¡å¼æ¥æŸ¥æ‰¾ã€‚</li><li><code>GO111MODULE=on</code>ï¼Œgoå‘½ä»¤è¡Œä¼šä½¿ç”¨modulesï¼Œè€Œä¸€ç‚¹ä¹Ÿä¸ä¼šå»GOPATHç›®å½•ä¸‹æŸ¥æ‰¾ã€‚</li><li><code>GO111MODULE=auto</code>ï¼Œé»˜è®¤å€¼ï¼Œgoå‘½ä»¤è¡Œå°†ä¼šæ ¹æ®å½“å‰ç›®å½•æ¥å†³å®šæ˜¯å¦å¯ç”¨moduleåŠŸèƒ½ã€‚è¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å½¢ï¼š<ul><li>å½“å‰ç›®å½•åœ¨GOPATH/srcä¹‹å¤–ä¸”è¯¥ç›®å½•åŒ…å«go.modæ–‡ä»¶</li><li>å½“å‰æ–‡ä»¶åœ¨åŒ…å«go.modæ–‡ä»¶çš„ç›®å½•ä¸‹é¢ã€‚</li></ul></li></ul><blockquote><p>å½“modules åŠŸèƒ½å¯ç”¨æ—¶ï¼Œä¾èµ–åŒ…çš„å­˜æ”¾ä½ç½®å˜æ›´ä¸º<code>$GOPATH/pkg</code>ï¼Œå…è®¸åŒä¸€ä¸ªpackageå¤šä¸ªç‰ˆæœ¬å¹¶å­˜ï¼Œä¸”å¤šä¸ªé¡¹ç›®å¯ä»¥å…±äº«ç¼“å­˜çš„ moduleã€‚</p></blockquote><pre><code class="bash">export GO111MODULE=on</code></pre><h3 id="go-modå¸¸ç”¨å‘½ä»¤"><a href="#go-modå¸¸ç”¨å‘½ä»¤" class="headerlink" title="go modå¸¸ç”¨å‘½ä»¤"></a>go modå¸¸ç”¨å‘½ä»¤</h3><p>golang æä¾›äº† <code>go mod</code>å‘½ä»¤æ¥ç®¡ç†åŒ…ã€‚</p><p>go mod æœ‰ä»¥ä¸‹å‘½ä»¤ï¼š</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>download</td><td>download modules to local cache(ä¸‹è½½ä¾èµ–åŒ…)</td></tr><tr><td>edit</td><td>edit go.mod from tools or scriptsï¼ˆç¼–è¾‘go.mod</td></tr><tr><td>graph</td><td>print module requirement graph (æ‰“å°æ¨¡å—ä¾èµ–å›¾)</td></tr><tr><td>init</td><td>initialize new module in current directoryï¼ˆåœ¨å½“å‰ç›®å½•åˆå§‹åŒ–modï¼‰</td></tr><tr><td>tidy</td><td>add missing and remove unused modules(æ‹‰å–ç¼ºå°‘çš„æ¨¡å—ï¼Œç§»é™¤ä¸ç”¨çš„æ¨¡å—)</td></tr><tr><td>vendor</td><td>make vendored copy of dependencies(å°†ä¾èµ–å¤åˆ¶åˆ°vendorä¸‹)</td></tr><tr><td>verify</td><td>verify dependencies have expected content (éªŒè¯ä¾èµ–æ˜¯å¦æ­£ç¡®ï¼‰</td></tr><tr><td>why</td><td>explain why packages or modules are needed(è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–)</td></tr></tbody></table><h2 id="åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#åœ¨é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"></a>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨</h2><h3 id="ç¤ºä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®"><a href="#ç¤ºä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®"></a>ç¤ºä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®</h3><ol><li>åœ¨<code>GOPATH ç›®å½•ä¹‹å¤–</code>æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶ä½¿ç”¨<code>go mod init</code> åˆå§‹åŒ–ç”Ÿæˆ<code>go.mod</code> æ–‡ä»¶</li></ol><pre><code>âœ  ~ mkdir helloâœ  ~ cd helloâœ  hello go mod init hellogo: creating new go.mod: module helloâœ  hello lsgo.modâœ  hello cat go.modmodule hellogo 1.12</code></pre><blockquote><p>go.modæ–‡ä»¶ä¸€æ—¦åˆ›å»ºåï¼Œå®ƒçš„å†…å®¹å°†ä¼šè¢«go toolchainå…¨é¢æŒæ§ã€‚go toolchainä¼šåœ¨å„ç±»å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œæ¯”å¦‚go getã€go buildã€go modç­‰ä¿®æ”¹å’Œç»´æŠ¤go.modæ–‡ä»¶ã€‚</p></blockquote><p>go.mod æä¾›äº†<code>module</code>, <code>require</code>ã€<code>replace</code>å’Œ<code>exclude</code> å››ä¸ªå‘½ä»¤</p><ul><li><code>module</code> è¯­å¥æŒ‡å®šåŒ…çš„åå­—ï¼ˆè·¯å¾„ï¼‰</li><li><code>require</code> è¯­å¥æŒ‡å®šçš„ä¾èµ–é¡¹æ¨¡å—</li><li><code>replace</code> è¯­å¥å¯ä»¥æ›¿æ¢ä¾èµ–é¡¹æ¨¡å—</li><li><code>exclude</code> è¯­å¥å¯ä»¥å¿½ç•¥ä¾èµ–é¡¹æ¨¡å—</li></ul><ol><li>æ·»åŠ ä¾èµ–</li></ol><p>æ–°å»ºä¸€ä¸ª server.go æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š</p><pre><code>package mainimport (    &quot;net/http&quot;    &quot;github.com/labstack/echo&quot;)func main() {    e := echo.New()    e.GET(&quot;/&quot;, func(c echo.Context) error {        return c.String(http.StatusOK, &quot;Hello, World!&quot;)    })    e.Logger.Fatal(e.Start(&quot;:1323&quot;))}</code></pre><p>æ‰§è¡Œ <code>go run server.go</code> è¿è¡Œä»£ç ä¼šå‘ç° go mod ä¼šè‡ªåŠ¨æŸ¥æ‰¾ä¾èµ–è‡ªåŠ¨ä¸‹è½½ï¼š</p><pre><code>$ go run server.gogo: finding github.com/labstack/echo v3.3.10+incompatiblego: downloading github.com/labstack/echo v3.3.10+incompatiblego: extracting github.com/labstack/echo v3.3.10+incompatiblego: finding github.com/labstack/gommon/color latestgo: finding github.com/labstack/gommon/log latestgo: finding github.com/labstack/gommon v0.2.8# æ­¤å¤„çœç•¥å¾ˆå¤šè¡Œ...   ____    __  / __/___/ /  ___ / _// __/ _ \/ _ \/___/\__/_//_/\___/ v3.3.10-devHigh performance, minimalist Go web frameworkhttps://echo.labstack.com____________________________________O/_______                                    O\â‡¨ http server started on [::]:1323</code></pre><p>ç°åœ¨æŸ¥çœ‹go.mod å†…å®¹ï¼š</p><pre><code>$ cat go.modmodule hellogo 1.12require (    github.com/labstack/echo v3.3.10+incompatible // indirect    github.com/labstack/gommon v0.2.8 // indirect    github.com/mattn/go-colorable v0.1.1 // indirect    github.com/mattn/go-isatty v0.0.7 // indirect    github.com/valyala/fasttemplate v1.0.0 // indirect    golang.org/x/crypto v0.0.0-20190313024323-a1f597ede03a // indirect)</code></pre><p>go module å®‰è£… package çš„åŸå‰‡æ˜¯å…ˆæ‹‰æœ€æ–°çš„ release tagï¼Œè‹¥æ— tagåˆ™æ‹‰æœ€æ–°çš„commitï¼Œè¯¦è§ <a href="https://github.com/golang/go/wiki/Modules" target="_blank" rel="noopener">Moduleså®˜æ–¹ä»‹ç»</a>ã€‚ go ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª go.sum æ–‡ä»¶æ¥è®°å½• dependency treeï¼š</p><pre><code>$ cat go.sumgithub.com/labstack/echo v3.3.10+incompatible h1:pGRcYk231ExFAyoAjAfD85kQzRJCRI8bbnE7CX5OEgg=github.com/labstack/echo v3.3.10+incompatible/go.mod h1:0INS7j/VjnFxD4E2wkz67b8cVwCLbBmJyDaka6Cmk1s=github.com/labstack/gommon v0.2.8 h1:JvRqmeZcfrHC5u6uVleB4NxxNbzx6gpbJiQknDbKQu0=github.com/labstack/gommon v0.2.8/go.mod h1:/tj9csK2iPSBvn+3NLM9e52usepMtrd5ilFYA+wQNJ4=github.com/mattn/go-colorable v0.1.1 h1:G1f5SKeVxmagw/IyvzvtZE4Gybcc4Tr1tf7I8z0XgOg=github.com/mattn/go-colorable v0.1.1/go.mod h1:FuOcm+DKB9mbwrcAfNl7/TZVBZ6rcnceauSikq3lYCQ=... çœç•¥å¾ˆå¤šè¡Œ</code></pre><ol><li>å†æ¬¡æ‰§è¡Œè„šæœ¬ <code>go run server.go</code> å‘ç°è·³è¿‡äº†æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–çš„æ­¥éª¤ã€‚</li><li>å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>go list -m -u all</code> æ¥æ£€æŸ¥å¯ä»¥å‡çº§çš„packageï¼Œä½¿ç”¨<code>go get -u need-upgrade-package</code> å‡çº§åä¼šå°†æ–°çš„ä¾èµ–ç‰ˆæœ¬æ›´æ–°åˆ°go.mod<ul><li>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>go get -u</code> å‡çº§æ‰€æœ‰ä¾èµ–</li></ul></li></ol><h4 id="go-get-å‡çº§"><a href="#go-get-å‡çº§" class="headerlink" title="go get å‡çº§"></a>go get å‡çº§</h4><ul><li>è¿è¡Œ go get -u å°†ä¼šå‡çº§åˆ°æœ€æ–°çš„æ¬¡è¦ç‰ˆæœ¬æˆ–è€…ä¿®è®¢ç‰ˆæœ¬(x.y.z, zæ˜¯ä¿®è®¢ç‰ˆæœ¬å·ï¼Œ yæ˜¯æ¬¡è¦ç‰ˆæœ¬å·)</li><li>è¿è¡Œ go get -u=patch å°†ä¼šå‡çº§åˆ°æœ€æ–°çš„ä¿®è®¢ç‰ˆæœ¬</li><li>è¿è¡Œ go get package@version å°†ä¼šå‡çº§åˆ°æŒ‡å®šçš„ç‰ˆæœ¬å·version</li><li>è¿è¡Œgo getå¦‚æœæœ‰ç‰ˆæœ¬çš„æ›´æ”¹ï¼Œé‚£ä¹ˆgo.modæ–‡ä»¶ä¹Ÿä¼šæ›´æ”¹</li></ul><h3 id="ç¤ºä¾‹äºŒï¼šæ”¹é€ ç°æœ‰é¡¹ç›®-helloword"><a href="#ç¤ºä¾‹äºŒï¼šæ”¹é€ ç°æœ‰é¡¹ç›®-helloword" class="headerlink" title="ç¤ºä¾‹äºŒï¼šæ”¹é€ ç°æœ‰é¡¹ç›®(helloword)"></a>ç¤ºä¾‹äºŒï¼šæ”¹é€ ç°æœ‰é¡¹ç›®(helloword)</h3><p>é¡¹ç›®ç›®å½•ä¸ºï¼š</p><pre><code>$ tree.â”œâ”€â”€ apiâ”‚   â””â”€â”€ apis.goâ””â”€â”€ server.go1 directory, 2 files</code></pre><p>server.go æºç ä¸ºï¼š</p><pre><code>package mainimport (    api &quot;./api&quot;  // è¿™é‡Œä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„    &quot;github.com/labstack/echo&quot;)func main() {    e := echo.New()    e.GET(&quot;/&quot;, api.HelloWorld)    e.Logger.Fatal(e.Start(&quot;:1323&quot;))}</code></pre><p>api/apis.go æºç ä¸ºï¼š</p><pre><code>package apiimport (    &quot;net/http&quot;    &quot;github.com/labstack/echo&quot;)func HelloWorld(c echo.Context) error {    return c.JSON(http.StatusOK, &quot;hello world&quot;)}</code></pre><ol><li>ä½¿ç”¨ <code>go mod init ***</code> åˆå§‹åŒ–go.mod</li></ol><pre><code>$ go mod init helloworldgo: creating new go.mod: module helloworld</code></pre><ol><li>è¿è¡Œ <code>go run server.go</code></li></ol><pre><code>go: finding github.com/labstack/gommon/color latestgo: finding github.com/labstack/gommon/log latestgo: finding golang.org/x/crypto/acme/autocert latestgo: finding golang.org/x/crypto/acme latestgo: finding golang.org/x/crypto latestbuild command-line-arguments: cannot find module for path _/home/gs/helloworld/api</code></pre><p>é¦–å…ˆè¿˜æ˜¯ä¼šæŸ¥æ‰¾å¹¶ä¸‹è½½å®‰è£…ä¾èµ–ï¼Œç„¶åè¿è¡Œè„šæœ¬ <code>server.go</code>ï¼Œè¿™é‡Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼š</p><pre><code>build command-line-arguments: cannot find module for path _/home/gs/helloworld/api</code></pre><p>ä½†æ˜¯<code>go.mod</code> å·²ç»æ›´æ–°ï¼š</p><pre><code>$ cat go.modmodule helloworldgo 1.12require (        github.com/labstack/echo v3.3.10+incompatible // indirect        github.com/labstack/gommon v0.2.8 // indirect        github.com/mattn/go-colorable v0.1.1 // indirect        github.com/mattn/go-isatty v0.0.7 // indirect        github.com/valyala/fasttemplate v1.0.0 // indirect        golang.org/x/crypto v0.0.0-20190313024323-a1f597ede03a // indirect)</code></pre><h4 id="é‚£ä¸ºä»€ä¹ˆä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯å‘¢ï¼Ÿ"><a href="#é‚£ä¸ºä»€ä¹ˆä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¸ºä»€ä¹ˆä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯å‘¢ï¼Ÿ"></a>é‚£ä¸ºä»€ä¹ˆä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯å‘¢ï¼Ÿ</h4><p>è¿™æ˜¯å› ä¸º server.go ä¸­ä½¿ç”¨ internal package çš„æ–¹æ³•è·Ÿä»¥å‰å·²ç»ä¸åŒäº†ï¼Œç”±äº go.modä¼šæ‰«æåŒå·¥ä½œç›®å½•ä¸‹æ‰€æœ‰ package å¹¶ä¸”<code>å˜æ›´å¼•å…¥æ–¹æ³•</code>ï¼Œå¿…é¡»å°† helloworldå½“æˆè·¯å¾„çš„å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å†™æˆ import helloworld/apiï¼Œä»¥å¾€ GOPATH/dep æ¨¡å¼å…è®¸çš„ import ./api å·²ç»å¤±æ•ˆï¼Œè¯¦æƒ…å¯ä»¥æŸ¥çœ‹è¿™ä¸ª <a href="https://github.com/golang/go/issues/26645" target="_blank" rel="noopener">issue</a>ã€‚</p><ol><li>æ›´æ–°æ—§çš„package import æ–¹å¼</li></ol><p>æ‰€ä»¥server.go éœ€è¦æ”¹å†™æˆï¼š</p><pre><code>package mainimport (    api &quot;helloworld/api&quot;  // è¿™æ˜¯æ›´æ–°åçš„å¼•å…¥æ–¹æ³•    &quot;github.com/labstack/echo&quot;)func main() {    e := echo.New()    e.GET(&quot;/&quot;, api.HelloWorld)    e.Logger.Fatal(e.Start(&quot;:1323&quot;))}</code></pre><blockquote><p><code>ä¸€ä¸ªå°å‘</code>ï¼šå¼€å§‹åœ¨golang1.11 ä¸‹ä½¿ç”¨go mod é‡åˆ°è¿‡ <code>go build github.com/valyala/fasttemplate: module requires go 1.12</code> <a href="https://github.com/golang/go/issues/27565" target="_blank" rel="noopener">è¿™ç§é”™è¯¯</a>ï¼Œé‡åˆ°ç±»ä¼¼è¿™ç§éœ€è¦å‡çº§åˆ°1.12 çš„é—®é¢˜ï¼Œç›´æ¥å‡çº§golang1.12 å°±å¥½äº†ã€‚å¹¸äºæ˜¯åœ¨1.12 å‘å¸ƒåæ‰å°è¯•çš„<code>go mod</code> ğŸ¤·â€â™‚ï¸</p></blockquote><ol><li>åˆ°è¿™é‡Œå°±å’Œæ–°åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ²¡ä»€ä¹ˆåŒºåˆ«äº†</li></ol><h4 id="ä½¿ç”¨replaceæ›¿æ¢æ— æ³•ç›´æ¥è·å–çš„package"><a href="#ä½¿ç”¨replaceæ›¿æ¢æ— æ³•ç›´æ¥è·å–çš„package" class="headerlink" title="ä½¿ç”¨replaceæ›¿æ¢æ— æ³•ç›´æ¥è·å–çš„package"></a>ä½¿ç”¨replaceæ›¿æ¢æ— æ³•ç›´æ¥è·å–çš„package</h4><p>ç”±äºæŸäº›å·²çŸ¥çš„åŸå› ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„packageéƒ½èƒ½æˆåŠŸä¸‹è½½ï¼Œæ¯”å¦‚ï¼š<code>golang.org</code>ä¸‹çš„åŒ…ã€‚</p><p>modules å¯ä»¥é€šè¿‡åœ¨ go.mod æ–‡ä»¶ä¸­ä½¿ç”¨ replace æŒ‡ä»¤æ›¿æ¢æˆgithubä¸Šå¯¹åº”çš„åº“ï¼Œæ¯”å¦‚ï¼š</p><pre><code>replace (    golang.org/x/crypto v0.0.0-20190313024323-a1f597ede03a =&gt; github.com/golang/crypto v0.0.0-20190313024323-a1f597ede03a)</code></pre><p>æˆ–è€…</p><pre><code>replace golang.org/x/crypto v0.0.0-20190313024323-a1f597ede03a =&gt; github.com/golang/crypto v0.0.0-20190313024323-a1f597ede03a</code></pre><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://github.com/golang/go/wiki/Modules" target="_blank" rel="noopener">Moduleså®˜æ–¹ä»‹ç»</a></li><li><a href="https://www.lightblue.asia/golang-1-11-new-festures-modules/?doing_wp_cron=1552464864.6369309425354003906250" target="_blank" rel="noopener">Golang 1.11 æ–°åŠŸèƒ½ä»‹ç´¹ â€“ Modules</a></li><li><a href="https://talks.godoc.org/github.com/myitcv/talks/2018-08-15-glug-modules/main.slide#1" target="_blank" rel="noopener">What are Go modules and how do I use them?</a></li><li><a href="https://github.com/golang/go/issues/27565" target="_blank" rel="noopener">go mod doesnâ€™t work for github.com/gomarkdown/markdown/html</a></li><li><a href="https://www.cnblogs.com/apocelipes/p/10295096.html" target="_blank" rel="noopener">å†æ¢go modulesï¼šä½¿ç”¨ä¸ç»†èŠ‚</a></li><li><a href="https://tonybai.com/2018/07/15/hello-go-module/" target="_blank" rel="noopener">åˆçª¥Go module</a></li></ul><h4 id="References"><a href="#References" class="headerlink" title="References"></a>References</h4><p>[1] Moduleså®˜æ–¹ä»‹ç»: <a href="https://github.com/golang/go/wiki/Modules" target="_blank" rel="noopener">https://github.com/golang/go/â€¦</a><br>[2] issue: <a href="https://github.com/golang/go/issues/26645" target="_blank" rel="noopener">https://github.com/golang/go/â€¦</a><br>[3] è¿™ç§é”™è¯¯: <a href="https://github.com/golang/go/issues/27565" target="_blank" rel="noopener">https://github.com/golang/go/â€¦</a><br>[4] Moduleså®˜æ–¹ä»‹ç»: <a href="https://github.com/golang/go/wiki/Modules" target="_blank" rel="noopener">https://github.com/golang/go/â€¦</a><br>[5] Golang 1.11 æ–°åŠŸèƒ½ä»‹ç´¹ â€“ Modules: <a href="https://www.lightblue.asia/golang-1-11-new-festures-modules/?doing_wp_cron=1552464864.6369309425354003906250" target="_blank" rel="noopener">https://www.lightblue.asia/goâ€¦</a><br>[6] What are Go modules and how do I use them?: <a href="https://talks.godoc.org/github.com/myitcv/talks/2018-08-15-glug-modules/main.slide#1" target="_blank" rel="noopener">https://talks.godoc.org/githuâ€¦</a><br>[7] go mod doesnâ€™t work for github.com/gomarkdown/markdown/html : <a href="https://github.com/golang/go/issues/27565" target="_blank" rel="noopener">https://github.com/golang/go/â€¦</a><br>[8] å†æ¢go modulesï¼šä½¿ç”¨ä¸ç»†èŠ‚: <a href="https://www.cnblogs.com/apocelipes/p/10295096.html" target="_blank" rel="noopener">https://www.cnblogs.com/apoceâ€¦</a><br>[9] åˆçª¥Go module: <a href="https://tonybai.com/2018/07/15/hello-go-module/" target="_blank" rel="noopener">https://tonybai.com/2018/07/1â€¦</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;@[TOC]&lt;/p&gt;
&lt;h2 id=&quot;å‡†å¤‡&quot;&gt;&lt;a href=&quot;#å‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡&quot;&gt;&lt;/a&gt;å‡†å¤‡&lt;/h2&gt;&lt;h3 id=&quot;å¼€å¯go-mod&quot;&gt;&lt;a href=&quot;#å¼€å¯go-mod&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
    
      <category term="ç¼–ç¨‹è¯­è¨€" scheme="https://alexbrucelu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
      <category term="GO" scheme="https://alexbrucelu.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/GO/"/>
    
    
      <category term="go" scheme="https://alexbrucelu.github.io/tags/go/"/>
    
      <category term="go mod" scheme="https://alexbrucelu.github.io/tags/go-mod/"/>
    
  </entry>
  
  <entry>
    <title>git æ–°å»ºä»“åº“ï¼Œæ·»åŠ è¿œç¨‹åˆ†ä¹‹åˆ°æœ¬åœ°</title>
    <link href="https://alexbrucelu.github.io/2019/12/09/git%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93/"/>
    <id>https://alexbrucelu.github.io/2019/12/09/git%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93/</id>
    <published>2019-12-09T10:40:43.000Z</published>
    <updated>2019-12-09T10:44:12.272Z</updated>
    
    <content type="html"><![CDATA[<p>@[TOC]</p><h3 id="æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹"><a href="#æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹" class="headerlink" title="æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹"></a>æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹</h3><pre><code>echo &quot;# gin-web&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git remote add origin https://github.com/AlexBruceLu/gin-web.gitgit push -u origin master</code></pre><h3 id="æœ¬åœ°å·²æœ‰çš„ä»“åº“æ·»åŠ åˆ°è¿œç¨‹"><a href="#æœ¬åœ°å·²æœ‰çš„ä»“åº“æ·»åŠ åˆ°è¿œç¨‹" class="headerlink" title="æœ¬åœ°å·²æœ‰çš„ä»“åº“æ·»åŠ åˆ°è¿œç¨‹"></a>æœ¬åœ°å·²æœ‰çš„ä»“åº“æ·»åŠ åˆ°è¿œç¨‹</h3><pre><code>git remote add origin https://github.com/AlexBruceLu/gin-web.gitgit push -u origin master</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;@[TOC]&lt;/p&gt;
&lt;h3 id=&quot;æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹&quot;&gt;&lt;a href=&quot;#æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹&quot; class=&quot;headerlink&quot; title=&quot;æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹&quot;&gt;&lt;/a&gt;æœ¬åœ°ä¸å­˜åœ¨ä»“åº“æ‹‰å–è¿œç¨‹åˆ†ä¹‹&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;echo
      
    
    </summary>
    
    
      <category term="å·¥å…·" scheme="https://alexbrucelu.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="git" scheme="https://alexbrucelu.github.io/categories/%E5%B7%A5%E5%85%B7/git/"/>
    
    
      <category term="git" scheme="https://alexbrucelu.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 16.04 å‡çº§æœ€æ–°ç‰ˆæœ¬ nvidia-docker</title>
    <link href="https://alexbrucelu.github.io/2019/12/09/Ubuntu16.04%E5%8D%87%E7%BA%A7%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%ACnvidia-docker/"/>
    <id>https://alexbrucelu.github.io/2019/12/09/Ubuntu16.04%E5%8D%87%E7%BA%A7%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%ACnvidia-docker/</id>
    <published>2019-12-09T09:18:48.000Z</published>
    <updated>2019-12-09T10:38:30.623Z</updated>
    
    <content type="html"><![CDATA[<p>@[TOC]</p><h3 id="Uninstall-old-versions"><a href="#Uninstall-old-versions" class="headerlink" title="Uninstall old versions"></a>Uninstall old versions</h3><p>Older versions of Docker were called <code>docker</code>, <code>docker.io</code>, or <code>docker-engine</code>. If these are installed, uninstall them:</p><pre><code>$ sudo apt-get remove docker docker-engine docker.io containerd runc</code></pre><p>Itâ€™s OK if <code>apt-get</code> reports that none of these packages are installed.</p><p>The contents of <code>/var/lib/docker/</code>, including images, containers, volumes, and networks, are preserved. The Docker Engine - Community package is now called <code>docker-ce</code>.</p><h3 id="Supported-storage-drivers"><a href="#Supported-storage-drivers" class="headerlink" title="Supported storage drivers"></a>Supported storage drivers</h3><p>Docker Engine - Community on Ubuntu supports <code>overlay2</code>, <code>aufs</code> and <code>btrfs</code> storage drivers.</p><blockquote><p><strong>Note</strong>: In Docker Engine - Enterprise, <code>btrfs</code> is only supported on SLES. See the documentation on <a href="https://docs.docker.com/engine/userguide/storagedriver/btrfs-driver/" target="_blank" rel="noopener">btrfs</a> for more details.</p></blockquote><p>For new installations on version 4 and higher of the Linux kernel, <code>overlay2</code> is supported and preferred over <code>aufs</code>. Docker Engine - Community uses the <code>overlay2</code> storage driver by default. If you need to use <code>aufs</code> instead, you need to configure it manually. See <a href="https://docs.docker.com/engine/userguide/storagedriver/aufs-driver/" target="_blank" rel="noopener">aufs</a></p><h3 id="Install-Docker-Engine-Community"><a href="#Install-Docker-Engine-Community" class="headerlink" title="Install Docker Engine - Community"></a>Install Docker Engine - Community</h3><p>You can install Docker Engine - Community in different ways, depending on your needs:</p><ul><li>Most users <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-using-the-repository" target="_blank" rel="noopener">set up Dockerâ€™s repositories</a> and install from them, for ease of installation and upgrade tasks. This is the recommended approach.</li><li>Some users download the DEB package and <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-from-a-package" target="_blank" rel="noopener">install it manually</a> and manage upgrades completely manually. This is useful in situations such as installing Docker on air-gapped systems with no access to the internet.</li><li>In testing and development environments, some users choose to use automated <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-using-the-convenience-script" target="_blank" rel="noopener">convenience scripts</a> to install Docker.</li></ul><h3 id="Install-using-the-repository"><a href="#Install-using-the-repository" class="headerlink" title="Install using the repository"></a>Install using the repository</h3><p>Before you install Docker Engine - Community for the first time on a new host machine, you need to set up the Docker repository. Afterward, you can install and update Docker from the repository.</p><h4 id="SET-UP-THE-REPOSITORY"><a href="#SET-UP-THE-REPOSITORY" class="headerlink" title="SET UP THE REPOSITORY"></a>SET UP THE REPOSITORY</h4><ol><li><p>Update the <code>apt</code> package index:</p><pre><code>$ sudo apt-get update</code></pre></li><li><p>Install packages to allow <code>apt</code> to use a repository over HTTPS:</p><pre><code>$ sudo apt-get install \    apt-transport-https \    ca-certificates \    curl \    gnupg-agent \    software-properties-common</code></pre></li><li><p>Add Dockerâ€™s official GPG key:</p><pre><code>$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code></pre><p>Verify that you now have the key with the fingerprint <code>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</code>, by searching for the last 8 characters of the fingerprint.</p><pre><code>$ sudo apt-key fingerprint 0EBFCD88pub   rsa4096 2017-02-22 [SCEA]      9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88uid           [ unknown] Docker Release (CE deb) &lt;docker@docker.com&gt;sub   rsa4096 2017-02-22 [S]</code></pre></li><li><p>Use the following command to set up the <strong>stable</strong> repository. To add the <strong>nightly</strong> or <strong>test</strong> repository, add the word <code>nightly</code> or <code>test</code> (or both) after the word <code>stable</code> in the commands below. <a href="https://docs.docker.com/install/" target="_blank" rel="noopener">Learn about <strong>nightly</strong> and <strong>test</strong> channels</a>.</p><blockquote><p><strong>Note</strong>: The <code>lsb_release -cs</code> sub-command below returns the name of your Ubuntu distribution, such as <code>xenial</code>. Sometimes, in a distribution like Linux Mint, you might need to change <code>$(lsb_release -cs)</code> to your parent Ubuntu distribution. For example, if you are using <code>Linux Mint Tessa</code>, you could use <code>bionic</code>. Docker does not offer any guarantees on untested and unsupported Ubuntu distributions.</p></blockquote></li></ol><ul><li><ul><li>x86_64 / amd64</li><li>armhf</li><li>arm64</li><li>ppc64le (IBM Power)</li><li>s390x (IBM Z)</li></ul></li></ul><pre><code>   $ sudo add-apt-repository \      &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \      $(lsb_release -cs) \      stable&quot;</code></pre><h4 id="INSTALL-DOCKER-ENGINE-COMMUNITY"><a href="#INSTALL-DOCKER-ENGINE-COMMUNITY" class="headerlink" title="INSTALL DOCKER ENGINE - COMMUNITY"></a>INSTALL DOCKER ENGINE - COMMUNITY</h4><ol><li><p>Update the <code>apt</code> package index.</p><pre><code>$ sudo apt-get update</code></pre></li><li><p>Install the <em>latest version</em> of Docker Engine - Community and containerd, or go to the next step to install a specific version:</p><pre><code>$ sudo apt-get install docker-ce docker-ce-cli containerd.io</code></pre><blockquote><p><strong>ï˜</strong> Got multiple Docker repositories?</p><p>If you have multiple Docker repositories enabled, installing or updating without specifying a version in the <code>apt-get install</code> or <code>apt-get update</code> command always installs the highest possible version, which may not be appropriate for your stability needs.</p></blockquote></li><li><p>To install a <em>specific version</em> of Docker Engine - Community, list the available versions in the repo, then select and install:</p><p>a. List the versions available in your repo:</p><pre><code>$ apt-cache madison docker-ce  docker-ce | 5:18.09.1~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  docker-ce | 5:18.09.0~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  docker-ce | 18.06.1~ce~3-0~ubuntu       | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  docker-ce | 18.06.0~ce~3-0~ubuntu       | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages  ...</code></pre><p>b. Install a specific version using the version string from the second column, for example, <code>5:18.09.1~3-0~ubuntu-xenial</code>.</p><pre><code>$ sudo apt-get install docker-ce=&lt;VERSION_STRING&gt; docker-ce-cli=&lt;VERSION_STRING&gt; containerd.io</code></pre></li><li><p>Verify that Docker Engine - Community is installed correctly by running the <code>hello-world</code> image.</p><pre><code class="shell">$ sudo docker run hello-world</code></pre></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;@[TOC]&lt;/p&gt;
&lt;h3 id=&quot;Uninstall-old-versions&quot;&gt;&lt;a href=&quot;#Uninstall-old-versions&quot; class=&quot;headerlink&quot; title=&quot;Uninstall old versions&quot;&gt;&lt;/a&gt;Uninst
      
    
    </summary>
    
    
      <category term="Linux" scheme="https://alexbrucelu.github.io/categories/Linux/"/>
    
      <category term="docker" scheme="https://alexbrucelu.github.io/categories/Linux/docker/"/>
    
    
      <category term="ubuntu" scheme="https://alexbrucelu.github.io/tags/ubuntu/"/>
    
      <category term="nvidia-docker" scheme="https://alexbrucelu.github.io/tags/nvidia-docker/"/>
    
  </entry>
  
</feed>
